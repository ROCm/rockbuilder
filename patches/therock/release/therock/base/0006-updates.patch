From e09854765d2c464df72984f29bb3f7628c0653bc Mon Sep 17 00:00:00 2001
From: Mika Laitio <mika.laitio@amd.com>
Date: Sun, 23 Nov 2025 11:08:12 -0800
Subject: [PATCH 6/6] updates

Signed-off-by: Mika Laitio <mika.laitio@amd.com>
---
 rcb_build.sh  | 11 ++++++++++-
 rcb_config.sh | 10 +++++++++-
 rcb_init.sh   | 11 +++++++++--
 3 files changed, 28 insertions(+), 4 deletions(-)
 mode change 100644 => 100755 rcb_build.sh

diff --git a/rcb_build.sh b/rcb_build.sh
old mode 100644
new mode 100755
index 90e6e405..df28a910
--- a/rcb_build.sh
+++ b/rcb_build.sh
@@ -1,4 +1,13 @@
-#!/bin/bash
+#!/usr/bin/env bash
 
+export CUR_DIR=$PWD
+echo "rcb_build.sh current directory: $CUR_DIR"
 source ./.venv/bin/activate
+echo "rcb_build.sh python activated"
+CMAKE_VERSION_OUTPUT=$(cmake --version)
+echo "rcb_build.sh CMAKE_VERSION: ${CMAKE_VERSION_OUTPUT}"
+echo "rcb_build.sh therock cmake build command started"
 cmake --build build
+RES=$?
+echo "rcb_build.sh therock cmake build command done, res: $RES"
+
diff --git a/rcb_config.sh b/rcb_config.sh
index 09526f7a..0ace5dc7 100755
--- a/rcb_config.sh
+++ b/rcb_config.sh
@@ -1,4 +1,12 @@
-#!/bin/bash
+#!/usr/bin/env bash
 
+export CUR_DIR=$PWD
+echo "rcb_config.sh current directory: $CUR_DIR"
 source ./.venv/bin/activate
+echo "rcb_config.sh python activated"
+CMAKE_VERSION_OUTPUT=$(cmake --version)
+echo "rcb_config.sh CMAKE_VERSION: ${CMAKE_VERSION_OUTPUT}"
+echo "rcb_config.sh therock cmake config command started"
 cmake -B build -GNinja -DTHEROCK_AMDGPU_TARGETS=${RCB_AMDGPU_TARGETS} .
+RES=$?
+echo "rcb_config.sh therock cmake config command done, res: $RES"
diff --git a/rcb_init.sh b/rcb_init.sh
index 3ef46d34..4347c43f 100755
--- a/rcb_init.sh
+++ b/rcb_init.sh
@@ -1,8 +1,15 @@
-#!/bin/bash
+#!/usr/bin/env bash
 
+export CUR_DIR=$PWD
+echo "rcb_init.sh current directory: $CUR_DIR"
 python3 -m venv ./.venv && source ./.venv/bin/activate
+echo "rcb_init.sh python activated"
 pip install --upgrade pip
 pip install -r ./requirements.txt
 pip install "dvc[s3]"
-pip install cmake
+pip install "cmake>=3.28.0,<4.0.0"
+CMAKE_VERSION_OUTPUT=$(cmake --version)
+echo "rcb_init.sh CMAKE_VERSION: ${CMAKE_VERSION_OUTPUT}"
+echo "rcb_init.sh therock source fetch started"
 python ./build_tools/fetch_sources.py
+echo "rcb_init.sh therock source fetch done"
-- 
2.43.0

