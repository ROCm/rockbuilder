From c3c06c03367c70a49bf61fee6d58c540cc2cfc4b Mon Sep 17 00:00:00 2001
From: Mika Laitio <lamikr@gmail.com>
Date: Wed, 12 Nov 2025 17:58:27 -0800
Subject: [PATCH 2/2] add more amd gpus

Signed-off-by: Mika Laitio <lamikr@gmail.com>
---
 CMakeLists.txt         | 2 +-
 csrc/rocm/attention.cu | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index dcc44be87..a87f76424 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -37,7 +37,7 @@ install(CODE "set(CMAKE_INSTALL_LOCAL_ONLY TRUE)" ALL_COMPONENTS)
 set(PYTHON_SUPPORTED_VERSIONS "3.10" "3.11" "3.12" "3.13")
 
 # Supported AMD GPU architectures.
-set(HIP_SUPPORTED_ARCHS "gfx906;gfx908;gfx90a;gfx942;gfx950;gfx1030;gfx1100;gfx1101;gfx1200;gfx1201;gfx1150;gfx1151")
+set(HIP_SUPPORTED_ARCHS "gfx906;gfx908;gfx90a;gfx942;gfx950;gfx1030;gfx1031;gfx1032;gfx1034;gfx1035;gfx1030;gfx1100;gfx1101;gfx1102;gfx1103;gfx1150;gfx1151;gfx1200;gfx1201")
 
 # ROCm installation prefix. Default to /opt/rocm but allow override via
 # -DROCM_PATH=/your/rocm/path when invoking cmake.
diff --git a/csrc/rocm/attention.cu b/csrc/rocm/attention.cu
index a339c5641..4c8a4924f 100644
--- a/csrc/rocm/attention.cu
+++ b/csrc/rocm/attention.cu
@@ -41,6 +41,7 @@ using __hip_fp8_e5m2 = __hip_fp8_e5m2_fnuz;
 #endif
 
 #if defined(__HIPCC__) && (defined(__gfx1100__) || defined(__gfx1101__) || \
+                           defined(__gfx1102__) || defined(__gfx1103__) || \
                            defined(__gfx1150__) || defined(__gfx1151__))
   #define __HIP__GFX11__
 #endif
-- 
2.43.0

